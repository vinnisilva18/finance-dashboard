import{r as u,C as T,o as $,a as d,e as o,b as v,t as a,f as p,E as g,I as k,h as b,D as q,A as i,l as z,F as w,B as D,p as r}from"./vendor-kE9Pwckw.js";import{u as R}from"./useCategories-Cpdvm93F.js";import{f as x}from"./formatters-B8MMj10x.js";import{_ as j}from"./index-DLyBPiDK.js";import"./utils-B9ygI19o.js";const H={class:"categories"},L={class:"header"},P={key:0,class:"category-form card"},G={class:"form-row"},J={class:"form-group"},K={class:"form-group"},O={class:"form-row"},Q={class:"form-group"},W={class:"color-picker"},X={class:"form-group"},Y={class:"form-group"},Z={class:"form-actions"},oo=["disabled"],to={key:1,class:"loading"},eo={key:2,class:"error"},so={class:"categories-grid"},ao={class:"section"},no={class:"categories-list"},io={class:"category-header"},lo={class:"category-info"},ro={class:"category-icon"},co={class:"category-actions"},uo=["onClick"],po=["onClick"],vo={class:"category-details"},mo={class:"budget-info"},_o={class:"category-type"},go={class:"section"},bo={class:"categories-list"},Co={class:"category-header"},fo={class:"category-info"},yo={class:"category-icon"},ho={class:"category-actions"},ko=["onClick"],wo=["onClick"],Do={class:"category-details"},xo={class:"budget-info"},So={class:"category-type"},Eo={__name:"Categories",setup(Fo){const{expenseCategories:S,incomeCategories:E,loading:m,error:C,fetchCategories:F,addCategory:V,updateCategory:A,deleteCategory:f}=R(),c=u(!1),l=u(null),s=T({name:"",type:"expense",color:"#4CAF50",budget:0,icon:"restaurant"});u(null);const B=u(null),I=u(null);$(()=>{F()});const U=async()=>{l.value?(await A(l.value._id||l.value.id,s),l.value=null):await V(s),h(),c.value=!1},y=n=>{l.value=n,s.name=n.name,s.type=n.type,s.color=n.color,s.budget=n.budget,s.icon=n.icon,I.value=n.image,n.image&&(B.value=n.image),c.value=!0},M=()=>{l.value=null,h(),c.value=!1},h=()=>{s.name="",s.type="expense",s.color="#4CAF50",s.budget=0,s.icon="restaurant",removeImage()},N=async n=>{confirm("Tem certeza que deseja deletar esta categoria? Isto n√£o ir√° deletar as transa√ß√µes relacionadas.")&&await f(n)};return(n,t)=>(r(),d("div",H,[o("div",L,[t[6]||(t[6]=o("h1",null,"Categorias",-1)),o("button",{onClick:t[0]||(t[0]=e=>c.value=!c.value),class:"btn btn-primary"},a(c.value?"Cancelar":"+ Adicionar Categoria"),1)]),c.value?(r(),d("div",P,[o("h3",null,a(l.value?"Editar Categoria":"Adicionar Nova Categoria"),1),o("form",{onSubmit:z(U,["prevent"])},[o("div",G,[o("div",J,[t[7]||(t[7]=o("label",null,"Nome da Categoria",-1)),p(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.name=e),type:"text",required:"",class:"form-control"},null,512),[[g,s.name]])]),o("div",K,[t[9]||(t[9]=o("label",null,"Tipo",-1)),p(o("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.type=e),class:"form-control",required:""},[...t[8]||(t[8]=[o("option",{value:"expense"},"Despesa",-1),o("option",{value:"income"},"Renda",-1)])],512),[[k,s.type]])])]),o("div",O,[o("div",Q,[t[10]||(t[10]=o("label",null,"Cor",-1)),o("div",W,[p(o("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.color=e),type:"color",class:"color-input"},null,512),[[g,s.color]]),o("span",{class:"color-preview",style:b({backgroundColor:s.color})},null,4),o("span",null,a(s.color),1)])]),o("div",X,[t[11]||(t[11]=o("label",null,"Monthly Budget",-1)),p(o("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.budget=e),type:"number",step:"0.01",class:"form-control"},null,512),[[g,s.budget]])])]),o("div",Y,[t[13]||(t[13]=o("label",null,"Icon",-1)),p(o("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.icon=e),class:"form-control"},[...t[12]||(t[12]=[q('<option value="restaurant" data-v-c31a5852>Food &amp; Dining</option><option value="directions_car" data-v-c31a5852>Transportation</option><option value="shopping_cart" data-v-c31a5852>Shopping</option><option value="movie" data-v-c31a5852>Entertainment</option><option value="home" data-v-c31a5852>Utilities</option><option value="medical_services" data-v-c31a5852>Healthcare</option><option value="attach_money" data-v-c31a5852>Salary</option><option value="work" data-v-c31a5852>Freelance</option><option value="school" data-v-c31a5852>Education</option><option value="flight" data-v-c31a5852>Travel</option>',10)])],512),[[k,s.icon]])]),o("div",Z,[o("button",{type:"submit",disabled:i(m),class:"btn btn-primary"},a(i(m)?"Salvando...":l.value?"Atualizar":"Adicionar Categoria"),9,oo),l.value?(r(),d("button",{key:0,onClick:M,type:"button",class:"btn btn-secondary"}," Cancelar ")):v("",!0)])],32)])):v("",!0),i(m)&&!c.value?(r(),d("div",to,"Carregando categorias...")):v("",!0),i(C)?(r(),d("div",eo,a(i(C)),1)):v("",!0),o("div",so,[o("div",ao,[t[14]||(t[14]=o("h2",null,"Categorias de Despesa",-1)),o("div",no,[(r(!0),d(w,null,D(i(S),e=>(r(),d("div",{key:e._id||e.id,class:"category-item card"},[o("div",io,[o("div",{class:"category-color",style:b({backgroundColor:e.color})},null,4),o("div",lo,[o("h4",null,a(e.name),1),o("span",ro,a(e.icon),1)]),o("div",co,[o("button",{onClick:_=>y(e),class:"btn-icon",title:"Edit"}," ‚úèÔ∏è ",8,uo),o("button",{onClick:_=>i(f)(e._id||e.id),class:"btn-icon",title:"Delete"}," üóëÔ∏è ",8,po)])]),o("div",vo,[o("div",mo,[o("span",null,"Budget: "+a(i(x)(e.budget)),1),o("span",_o,a(e.type),1)])])]))),128))])]),o("div",go,[t[15]||(t[15]=o("h2",null,"Categorias de Renda",-1)),o("div",bo,[(r(!0),d(w,null,D(i(E),e=>(r(),d("div",{key:e._id||e.id,class:"category-item card"},[o("div",Co,[o("div",{class:"category-color",style:b({backgroundColor:e.color})},null,4),o("div",fo,[o("h4",null,a(e.name),1),o("span",yo,a(e.icon),1)]),o("div",ho,[o("button",{onClick:_=>y(e),class:"btn-icon",title:"Edit"}," ‚úèÔ∏è ",8,ko),o("button",{onClick:_=>N(e._id||e.id),class:"btn-icon",title:"Delete"}," üóëÔ∏è ",8,wo)])]),o("div",Do,[o("div",xo,[o("span",null,"Budget: "+a(i(x)(e.budget)),1),o("span",So,a(e.type),1)])])]))),128))])])])]))}},Mo=j(Eo,[["__scopeId","data-v-c31a5852"]]);export{Mo as default};

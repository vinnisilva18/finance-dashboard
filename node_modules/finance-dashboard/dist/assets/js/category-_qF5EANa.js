import{a as i}from"./utils-B9ygI19o.js";import{d as u,r as l}from"./vendor-CeDlel3h.js";const r=i.create({baseURL:"https://your-backend-domain.vercel.app/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});r.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&t!=="undefined"&&t!=="null"&&(e.headers.Authorization=`Bearer ${t.trim()}`),e});r.interceptors.response.use(e=>e,e=>(e.response&&(e.response.status===401||e.response.status===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)));const m={get(e,t){return r.get(e,{params:t})},post(e,t){return r.post(e,t)},put(e,t){return r.put(e,t)},delete(e){return r.delete(e)}},v=u("category",()=>{const e=l([]);return{categories:e,setCategories:o=>{e.value=o},addCategory:o=>{e.value.push(o)},deleteCategory:o=>{e.value=e.value.filter(a=>a.id!==o)},updateCategory:(o,a)=>{const n=e.value.findIndex(s=>s.id===o);n!==-1&&(e.value[n]={...e.value[n],...a})},getCategoryById:o=>e.value.find(a=>a.id===o),getCategoriesByType:o=>e.value.filter(a=>a.type===o)}});export{m as a,v as u};

import{r as _,c as $,o as q,a as r,e,f as g,E as H,I as b,F as y,B as x,A as a,t as o,K as Q,b as T,p as d,n as N}from"./vendor-kE9Pwckw.js";import{C as j,r as W}from"./charts-BaeV1Cpd.js";import{u as ee}from"./useCurrencies-CIa9VWEX.js";import{f as P}from"./formatters-B8MMj10x.js";import{_ as te}from"./index-CZQAM9fZ.js";import"./localStorageService-Bm_UUCrj.js";import"./utils-B9ygI19o.js";const se=(C,i)=>{if(!C||C.length===0){console.error("No data to export");return}const l=Object.keys(C[0]),k=[l.join(","),...C.map(p=>l.map(R=>{const v=p[R];return typeof v=="string"&&v.includes(",")?`"${v}"`:v}).join(","))].join(`
`),w=new Blob([k],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a");if(m.download!==void 0){const p=URL.createObjectURL(w);m.setAttribute("href",p),m.setAttribute("download",`${i}_${new Date().toISOString().split("T")[0]}.csv`),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)}},oe={class:"currency"},ae={class:"converter card"},ne={class:"converter-form"},le={class:"amount-section"},re={class:"input-group"},de={class:"currency-section"},ie={class:"currency-input"},ue=["value"],ce={class:"currency-info"},ve={class:"currency-input"},me=["value"],pe={class:"currency-info"},fe={class:"result-section"},_e={class:"result-card"},ge={class:"result-amount"},Ce={class:"result-label"},he={class:"result-card highlighted"},be={class:"result-amount"},ye={class:"converter-actions"},xe=["disabled"],ke=["disabled"],Re={class:"currency-settings card"},Ue={class:"settings-form"},De={class:"form-group"},$e=["value"],we={class:"exchange-rates card"},Me={class:"rates-header"},Se={class:"last-updated"},Fe={key:0,class:"loading"},Ve={key:1,class:"error"},Ae={class:"rates-grid"},Be={class:"rate-flag"},Ee={class:"rate-info"},Te={class:"rate-code"},Ne={class:"rate-name"},je={class:"rate-value"},Pe={class:"rate-amount"},ze={class:"rates-actions"},Ie=["disabled"],Je={class:"currency-chart card"},Le={class:"chart-wrapper"},Oe={class:"chart-controls"},Ke=["value"],Ye={__name:"Currency",setup(C){j.register(...W);const{currencies:i,baseCurrency:l,loading:f,error:k,fetchCurrencies:w,convertCurrency:m,updateRates:p,setBaseCurrency:R}=ee(),v=_("100"),u=_("USD"),c=_("EUR"),M=_(null),h=_("EUR"),V=_("30d");let S=null;const z=_({USD_EUR:[.85,.86,.84,.87,.85,.83,.86],USD_GBP:[.73,.74,.72,.75,.73,.71,.74],USD_JPY:[110.5,112.3,109.8,111.2,110.7,109.5,111.8]}),I=$(()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),J=$(()=>{const n=i.value.find(t=>t.code===u.value);return n?n.name:""}),L=$(()=>{const n=i.value.find(t=>t.code===c.value);return n?n.name:""}),O=$(()=>v.value?m(parseFloat(v.value),u.value,c.value):0),U=(n,t)=>{if(n===t)return 1;const s=i.value.find(F=>F.code===n),D=i.value.find(F=>F.code===t);return!s||!D?1:D.rate/s.rate},A=n=>n>=1?n.toFixed(4):n.toFixed(6),K=n=>{const t=(Math.random()-.5)*2;return`${t>=0?"+":""}${t.toFixed(2)}%`},Y=n=>Math.random()-.5>=0?"positive":"negative",G=()=>{const n=u.value;u.value=c.value,c.value=n},X=async()=>{console.log("Converted:",v.value,u.value,"to",c.value)},Z=()=>{const n=i.value.map(t=>({Currency:`${t.flag} ${t.code}`,Name:t.name,Rate:`1 ${l.value} = ${A(1/U(l.value,t.code))} ${t.code}`,Country:t.country}));se(n,"exchange-rates")},B=()=>{E()},E=()=>{if(!M.value)return;const n=M.value.getContext("2d");S&&S.destroy();const t=["Jan","Feb","Mar","Apr","May","Jun","Jul"],s=`USD_${h.value}`,D=z.value[s]||Array(7).fill(1).map(()=>.85+Math.random()*.1);S=new j(n,{type:"line",data:{labels:t,datasets:[{label:`${l.value}/${h.value}`,data:D,borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!1,title:{display:!0,text:`Rate (1 ${l.value} = X ${h.value})`}}}}})};return q(()=>{w().then(()=>{E()})}),(n,t)=>(d(),r("div",oe,[t[20]||(t[20]=e("h1",null,"CÃ¢mbio e ConversÃ£o de Moedas",-1)),e("div",ae,[t[14]||(t[14]=e("h3",null,"Conversor de Moedas",-1)),e("div",ne,[e("div",le,[e("div",re,[t[9]||(t[9]=e("label",null,"Valor",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),type:"number",step:"0.01",class:"form-control",placeholder:"100"},null,512),[[H,v.value]])]),e("div",{class:"swap-button",onClick:G}," ðŸ”„ ")]),e("div",de,[e("div",ie,[t[10]||(t[10]=e("label",null,"De",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),class:"form-control"},[(d(!0),r(y,null,x(a(i),s=>(d(),r("option",{key:s.code,value:s.code},o(s.flag)+" "+o(s.code)+" - "+o(s.name),9,ue))),128))],512),[[b,u.value]]),e("div",ce,[e("span",null,"1 "+o(u.value)+" = "+o(U(u.value,c.value).toFixed(4))+" "+o(c.value),1)])]),e("div",ve,[t[11]||(t[11]=e("label",null,"Para",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),class:"form-control"},[(d(!0),r(y,null,x(a(i),s=>(d(),r("option",{key:s.code,value:s.code},o(s.flag)+" "+o(s.code)+" - "+o(s.name),9,me))),128))],512),[[b,c.value]]),e("div",pe,[e("span",null,"1 "+o(c.value)+" = "+o(U(c.value,u.value).toFixed(4))+" "+o(u.value),1)])])]),e("div",fe,[e("div",_e,[e("div",ge,o(a(P)(parseFloat(v.value)||0,u.value)),1),e("div",Ce,o(J.value)+" â†’ "+o(L.value),1)]),t[13]||(t[13]=e("div",{class:"result-arrow"},"â†’",-1)),e("div",he,[e("div",be,o(a(P)(O.value,c.value)),1),t[12]||(t[12]=e("div",{class:"result-label"},"Valor Convertido",-1))])]),e("div",ye,[e("button",{onClick:X,class:"btn btn-primary",disabled:a(f)},o(a(f)?"Convertendo...":"Converter"),9,xe),e("button",{onClick:t[3]||(t[3]=(...s)=>a(p)&&a(p)(...s)),class:"btn btn-secondary",disabled:a(f)}," ðŸ”„ Atualizar Taxas ",8,ke)])])]),e("div",Re,[t[17]||(t[17]=e("h3",null,"ConfiguraÃ§Ãµes de Moeda Base",-1)),e("div",Ue,[e("div",De,[t[15]||(t[15]=e("label",null,"Moeda Base",-1)),g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>Q(l)?l.value=s:null),onChange:t[5]||(t[5]=(...s)=>a(R)&&a(R)(...s)),class:"form-control"},[(d(!0),r(y,null,x(a(i),s=>(d(),r("option",{key:s.code,value:s.code},o(s.flag)+" "+o(s.code)+" - "+o(s.name),9,$e))),128))],544),[[b,a(l)]])]),t[16]||(t[16]=e("p",{class:"settings-info"}," Todos os valores serÃ£o exibidos em sua moeda base. As taxas de cÃ¢mbio sÃ£o atualizadas automaticamente. ",-1))])]),e("div",we,[e("div",Me,[e("h3",null,"Taxas de CÃ¢mbio (Base: "+o(a(l))+")",1),e("span",Se,"Ãšltima atualizaÃ§Ã£o: "+o(I.value),1)]),a(f)?(d(),r("div",Fe,"Carregando taxas de cÃ¢mbio...")):T("",!0),a(k)?(d(),r("div",Ve,o(a(k)),1)):T("",!0),e("div",Ae,[(d(!0),r(y,null,x(a(i),s=>(d(),r("div",{key:s.code,class:N(["rate-item",{highlighted:s.code===a(l)}])},[e("div",Be,o(s.flag),1),e("div",Ee,[e("div",Te,o(s.code),1),e("div",Ne,o(s.name),1)]),e("div",je,[e("div",Pe," 1 "+o(a(l))+" = "+o(A(1/U(a(l),s.code)))+" "+o(s.code),1),e("div",{class:N(["rate-change",Y(s.code)])},o(K(s.code)),3)])],2))),128))]),e("div",ze,[e("button",{onClick:t[6]||(t[6]=(...s)=>a(p)&&a(p)(...s)),class:"btn btn-primary",disabled:a(f)},o(a(f)?"Updating...":"Refresh Rates"),9,Ie),e("button",{onClick:Z,class:"btn btn-secondary"}," ðŸ“Š Export Rates ")])]),e("div",Je,[t[19]||(t[19]=e("h3",null,"Exchange Rate Trends",-1)),e("div",Le,[e("canvas",{ref_key:"trendChart",ref:M},null,512)]),e("div",Oe,[g(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>h.value=s),onChange:B,class:"form-control"},[(d(!0),r(y,null,x(a(i).filter(s=>s.code!==a(l)),s=>(d(),r("option",{key:s.code,value:s.code},o(s.flag)+" "+o(s.code),9,Ke))),128))],544),[[b,h.value]]),g(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>V.value=s),onChange:B,class:"form-control"},[...t[18]||(t[18]=[e("option",{value:"7d"},"7 Days",-1),e("option",{value:"30d"},"30 Days",-1),e("option",{value:"90d"},"90 Days",-1),e("option",{value:"1y"},"1 Year",-1)])],544),[[b,V.value]])])])]))}},et=te(Ye,[["__scopeId","data-v-e968b49e"]]);export{et as default};
